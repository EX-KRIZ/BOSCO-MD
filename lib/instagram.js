const axios = require("axios")
const cheerio = require("cheerio")
const encodeUrl = require("encodeurl")
const fetch = require("node-fetch")
const formData = require("form-data")
const fakeUa = require("fake-useragent")
const {JSDOM} = require("jsdom")

//instagram stalking
function _0x2cf5(_0x30876c,_0x23e914){const _0x4c5be3=_0x4c5b();return _0x2cf5=function(_0x2cf531,_0x5dc10a){_0x2cf531=_0x2cf531-0x1e1;let _0x4f780d=_0x4c5be3[_0x2cf531];return _0x4f780d;},_0x2cf5(_0x30876c,_0x23e914);}(function(_0x3faf9f,_0x9ddc8d){const _0x5af10a=_0x2cf5,_0x31db23=_0x3faf9f();while(!![]){try{const _0x4d5b5b=-parseInt(_0x5af10a(0x1e8))/0x1*(-parseInt(_0x5af10a(0x1f9))/0x2)+-parseInt(_0x5af10a(0x1e1))/0x3+-parseInt(_0x5af10a(0x1f8))/0x4+parseInt(_0x5af10a(0x1fb))/0x5+-parseInt(_0x5af10a(0x1f4))/0x6*(parseInt(_0x5af10a(0x1ea))/0x7)+-parseInt(_0x5af10a(0x1ee))/0x8+parseInt(_0x5af10a(0x1fc))/0x9;if(_0x4d5b5b===_0x9ddc8d)break;else _0x31db23['push'](_0x31db23['shift']());}catch(_0x2c1768){_0x31db23['push'](_0x31db23['shift']());}}}(_0x4c5b,0x9af22));function _0x4c5b(){const _0x212010=['graphql','catch','then','By\x20TOXIC-KICHUX','1916dvDFPj','biography','45906DbLjdC','mid=XBXl1AALAAEbFoAEfNjZlMMG9dwX;\x20ig_did=91E66A48-5AA2-445D-BFE6-84DC4456DE8F;\x20fbm_124024574287414=base_domain=.instagram.com;\x20ig_nrcb=1;\x20shbid=\x2212737,4008624962,1656157971:01f72a5102dc07af6845adf923ca70eb86e81ab95fa9dbfdaf157c9eef0e82fd1f10fe23\x22;\x20shbts=\x221624621971,4008624962,1656157971:01f74841fba8e77a0066b47ea891dec8fba6fdf9216c0816f9fb3532292f769828800ae2\x22;\x20fbsr_124024574287414=86D8femzH4_KFW4hd3Z6XFdowU6lG-uXsXRQDNl44VM.eyJ1c2VyX2lkIjoiMTAwMDA0Njc2MDc4Nzg5IiwiY29kZSI6IkFRQngzXzVOejdwVnBwby1LRGRUdEYxUFlzcUdDQXJjcmJfb05HaWFvYkNvOGtLN2paam50bHpvMTNOakFnTzVKOHQ5M0V3U3dvNkRtZ0RiY1l1Z3dQSTIybnExOUxLd3lpZTVfZll0bkNXZXBuM1hoYWFLX0w2R0pZaUpzaDBOTDBhb3pmTVBkRTVQRC12X3FnbUgxLXZYdGVmcHhfaFU0aUZNZVMxNHhFUk5OblJyMmxYTUpDa2RFYTdISXNCR2swdHhaaGF0NUt4UDR3cWZTamRwcVFfQ19sa1RUek5fU0taUTYtMjlzTkdnLUVWb3oxMUZWc3Q2OEx2ZnlIY0V0eFp0ZUxacXpiWmh6MzZrVl83VmFGd0FqVnVkTGFQN2VzT3ZRcmlTQ2pLUE5XbVcyNWhudzIzejJBSnVURW00YWR1cmN6a3ZLWU1icTd2SnN0SVdJV09RIiwib2F1dGhfdG9rZW4iOiJFQUFCd3pMaXhuallCQUJBZmJuQ3haQzZMd3h4MDFJV2MyZ3dsQ3k3Qmp0b05UNUY0WDY2NHBrUzRQeERNVXRsdmhWWkI3SXE0MGsyZ2hJQm55RHRPcW5iVjlPbUNiWGhyTFBaQUhBQjFzVFpBdHF6RFEzVTROUkhOU1V6MFVXWkNtTEdLcDNNWDRoazVIOURLbERHN0QwUlhZNHY4dHBCdVNNYjN4dnBTRGtQcHdYRlBXVU82VCIsImFsZ29yaXRobSI6IkhNQUMtU0hBMjU2IiwiaXNzdWVkX2F0IjoxNjI0NjIxOTgxfQ;\x20fbsr_124024574287414=86D8femzH4_KFW4hd3Z6XFdowU6lG-uXsXRQDNl44VM.eyJ1c2VyX2lkIjoiMTAwMDA0Njc2MDc4Nzg5IiwiY29kZSI6IkFRQngzXzVOejdwVnBwby1LRGRUdEYxUFlzcUdDQXJjcmJfb05HaWFvYkNvOGtLN2paam50bHpvMTNOakFnTzVKOHQ5M0V3U3dvNkRtZ0RiY1l1Z3dQSTIybnExOUxLd3lpZTVfZll0bkNXZXBuM1hoYWFLX0w2R0pZaUpzaDBOTDBhb3pmTVBkRTVQRC12X3FnbUgxLXZYdGVmcHhfaFU0aUZNZVMxNHhFUk5OblJyMmxYTUpDa2RFYTdISXNCR2swdHhaaGF0NUt4UDR3cWZTamRwcVFfQ19sa1RUek5fU0taUTYtMjlzTkdnLUVWb3oxMUZWc3Q2OEx2ZnlIY0V0eFp0ZUxacXpiWmh6MzZrVl83VmFGd0FqVnVkTGFQN2VzT3ZRcmlTQ2pLUE5XbVcyNWhudzIzejJBSnVURW00YWR1cmN6a3ZLWU1icTd2SnN0SVdJV09RIiwib2F1dGhfdG9rZW4iOiJFQUFCd3pMaXhuallCQUJBZmJuQ3haQzZMd3h4MDFJV2MyZ3dsQ3k3Qmp0b05UNUY0WDY2NHBrUzRQeERNVXRsdmhWWkI3SXE0MGsyZ2hJQm55RHRPcW5iVjlPbUNiWGhyTFBaQUhBQjFzVFpBdHF6RFEzVTROUkhOU1V6MFVXWkNtTEdLcDNNWDRoazVIOURLbERHN0QwUlhZNHY4dHBCdVNNYjN4dnBTRGtQcHdYRlBXVU82VCIsImFsZ29yaXRobSI6IkhNQUMtU0hBMjU2IiwiaXNzdWVkX2F0IjoxNjI0NjIxOTgxfQ;\x20csrftoken=PpiPMEl0R2pAwThsw4NXynO6cVIXHZDo;\x20ds_user_id=38316792800;\x20sessionid=38316792800:rQj5Tr3g5zkg7b:4;\x20rur=\x22RVA,38316792800,1656158332:01f759cf624bef147397144805bb4c26f6c8b36a232e0f5738c570ee492f6b629f84f6e5\x22','is_private','edge_follow','872920zaHMnE','is_verified','GET','get','https://www.instagram.com/','count','132sSCMkA','profile_pic_url_hd','user','highlight_reel_count','3042284NWGrXy','156QgpkrH','business_category_name','3693170pJqvcY','13889277KuqTYi','edge_owner_to_timeline_media','full_name','is_business_account','2348145pqDarx','/?__a=1','edge_followed_by'];_0x4c5b=function(){return _0x212010;};return _0x4c5b();}function igstalk(_0x24b31c){return new Promise((_0x5d5c8b,_0x1a9bbe)=>{const _0x3467d0=_0x2cf5;axios[_0x3467d0(0x1f1)](_0x3467d0(0x1f2)+_0x24b31c+_0x3467d0(0x1e2),{'method':_0x3467d0(0x1f0),'headers':{'user-agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/91.0.4472.114\x20Safari/537.36','cookie':_0x3467d0(0x1eb)}})[_0x3467d0(0x1e6)](async _0x1f2bca=>{const _0x45a4d1=_0x3467d0,_0x2b14d0=_0x1f2bca[_0x45a4d1(0x1e4)][_0x45a4d1(0x1f6)];let _0x893abf={'message':_0x45a4d1(0x1e7),'id':_0x2b14d0['id'],'biography':_0x2b14d0[_0x45a4d1(0x1e9)],'followers':_0x2b14d0[_0x45a4d1(0x1e3)][_0x45a4d1(0x1f3)],'following':_0x2b14d0[_0x45a4d1(0x1ed)][_0x45a4d1(0x1f3)],'fullName':_0x2b14d0[_0x45a4d1(0x1fe)],'highlightCount':_0x2b14d0[_0x45a4d1(0x1f7)],'isBusinessAccount':_0x2b14d0[_0x45a4d1(0x1ff)],'isRecentUser':_0x2b14d0['is_joined_recently'],'accountCategory':_0x2b14d0[_0x45a4d1(0x1fa)],'linkedFacebookPage':_0x2b14d0['connected_fb_page'],'isPrivate':_0x2b14d0[_0x45a4d1(0x1ec)],'isVerified':_0x2b14d0[_0x45a4d1(0x1ef)],'profilePicHD':_0x2b14d0[_0x45a4d1(0x1f5)],'username':_0x2b14d0['username'],'postsCount':_0x2b14d0[_0x45a4d1(0x1fd)]['count']};_0x5d5c8b(_0x893abf);})[_0x3467d0(0x1e5)](_0x1a9bbe);});}
//instagram post downloader
(function(_0x1d9877,_0x2e53f0){const _0x7c574=_0x31b3,_0x2215ba=_0x1d9877();while(!![]){try{const _0x4aa277=parseInt(_0x7c574(0x140))/0x1+parseInt(_0x7c574(0x142))/0x2*(parseInt(_0x7c574(0x143))/0x3)+parseInt(_0x7c574(0x137))/0x4*(-parseInt(_0x7c574(0x13a))/0x5)+-parseInt(_0x7c574(0x13d))/0x6*(-parseInt(_0x7c574(0x13e))/0x7)+parseInt(_0x7c574(0x139))/0x8*(-parseInt(_0x7c574(0x135))/0x9)+parseInt(_0x7c574(0x13b))/0xa+-parseInt(_0x7c574(0x136))/0xb;if(_0x4aa277===_0x2e53f0)break;else _0x2215ba['push'](_0x2215ba['shift']());}catch(_0x3f283e){_0x2215ba['push'](_0x2215ba['shift']());}}}(_0xc509,0xa94bf));function _0x31b3(_0x181530,_0x193a04){const _0xc509b4=_0xc509();return _0x31b3=function(_0x31b370,_0x4fa804){_0x31b370=_0x31b370-0x135;let _0x3e68a2=_0xc509b4[_0x31b370];return _0x3e68a2;},_0x31b3(_0x181530,_0x193a04);}function _0xc509(){const _0x52141f=['href','84ykZMtV','67676EtolwG','#downloadBox\x20>\x20a','1274907whoOXf','application/x-www-form-urlencoded','364tCrZJF','1455DMyLbW','153tCDrEz','12845294uBsaTD','545932TBxWFa','attr','103544CIeCjF','25xYiijp','12651100GZlKeM'];_0xc509=function(){return _0x52141f;};return _0xc509();}async function instagram(_0x14fecc){return new Promise((_0x2d04c2,_0xc4bb2)=>{const _0x128153=_0x31b3,_0x44a9b4={'method':'POST','url':'https://downloadgram.org/#downloadhere','headers':{'content-type':_0x128153(0x141)},'formData':{'url':_0x14fecc,'submit':''}};request(_0x44a9b4,async function(_0x144168,_0x479764,_0x55f693){const _0x46c84b=_0x128153;if(_0x144168)throw new Error(_0x144168);const _0x5849e5=cheerio['load'](_0x55f693),_0x2f814e=[];_0x5849e5(_0x46c84b(0x13f))['each'](function(_0x2ca515,_0x167c87){const _0x342f52=_0x46c84b;_0x2f814e['push'](_0x5849e5(_0x167c87)[_0x342f52(0x138)](_0x342f52(0x13c)));}),_0x2d04c2(_0x2f814e);});});}
//instagram all things downloader
function _0x1ca2(){const _0x3ef9d5=['each','2ogUbHE','application/x-www-form-urlencoded','915405tzorNA','7258840sDAqbv','17129CNIwhQ','5095350XnrOWn','433324sMKqMy','href','load','https://fastdl.app/#download','#downloadBox\x20>\x20a','11BXrEBw','15OWbKLn','216291WtQmyc','4489336rrtzSE','174Pqjbkj'];_0x1ca2=function(){return _0x3ef9d5;};return _0x1ca2();}(function(_0x565e55,_0x3d31ac){const _0x3ff762=_0x2ea5,_0x55aa1f=_0x565e55();while(!![]){try{const _0x145bd0=-parseInt(_0x3ff762(0xa7))/0x1+parseInt(_0x3ff762(0xab))/0x2*(-parseInt(_0x3ff762(0x9c))/0x3)+parseInt(_0x3ff762(0xa0))/0x4*(parseInt(_0x3ff762(0xa6))/0x5)+parseInt(_0x3ff762(0xa9))/0x6*(parseInt(_0x3ff762(0x9e))/0x7)+-parseInt(_0x3ff762(0xa8))/0x8+parseInt(_0x3ff762(0x9f))/0x9+parseInt(_0x3ff762(0x9d))/0xa*(parseInt(_0x3ff762(0xa5))/0xb);if(_0x145bd0===_0x3d31ac)break;else _0x55aa1f['push'](_0x55aa1f['shift']());}catch(_0x2bc6a9){_0x55aa1f['push'](_0x55aa1f['shift']());}}}(_0x1ca2,0x93cd5));function _0x2ea5(_0x127024,_0x5cd6d6){const _0x1ca29a=_0x1ca2();return _0x2ea5=function(_0x2ea526,_0x231e59){_0x2ea526=_0x2ea526-0x9b;let _0x20e07a=_0x1ca29a[_0x2ea526];return _0x20e07a;},_0x2ea5(_0x127024,_0x5cd6d6);}async function igalldl(_0x5ab0ef){return new Promise((_0x43dd77,_0x74af7d)=>{const _0x2dd862=_0x2ea5,_0x56b25c={'method':'POST','url':_0x2dd862(0xa3),'headers':{'content-type':_0x2dd862(0x9b)},'formData':{'url':_0x5ab0ef,'submit':''}};request(_0x56b25c,async function(_0x4c655d,_0x4b7528,_0x310646){const _0x278c25=_0x2dd862;if(_0x4c655d)throw new Error(_0x4c655d);const _0x3c3372=cheerio[_0x278c25(0xa2)](_0x310646),_0x2eefb2=[];_0x3c3372(_0x278c25(0xa4))[_0x278c25(0xaa)](function(_0x19f31e,_0x252b5e){const _0x29569b=_0x278c25;_0x2eefb2['push'](_0x3c3372(_0x252b5e)['attr'](_0x29569b(0xa1)));}),_0x43dd77(_0x2eefb2);});});}
//instagram story downloader
//ceming choon!
module.exports = {
  igstalk,
  instagram,
  igalldl
};
